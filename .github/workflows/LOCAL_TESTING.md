# –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GitHub Actions

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ act

**act** - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ GitHub Actions workflows.

### Linux
```bash
# –ß–µ—Ä–µ–∑ curl (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
curl -s https://raw.githubusercontent.com/nektos/act/master/install.sh | sudo bash

# –ò–ª–∏ —á–µ—Ä–µ–∑ apt
sudo apt install act

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
act --version
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- ~2-3 GB –º–µ—Å—Ç–∞ –¥–ª—è Docker –æ–±—Ä–∞–∑–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö workflows –∏ jobs
```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö workflows
act -l

# –°–ø–∏—Å–æ–∫ jobs –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º workflow
act -l -W .github/workflows/build.yml
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ job
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Quick Check (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)
act -W .github/workflows/quick-check.yml

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ Linux Base –∏–∑ build.yml
act -j build-linux-matrix -W .github/workflows/build.yml

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—á–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
act -j build-linux-matrix --matrix config.name:"Base"
```

### –ó–∞–ø—É—Å–∫ —Å —Å–æ–±—ã—Ç–∏–µ–º push
```bash
# –≠–º—É–ª–∏—Ä–æ–≤–∞—Ç—å push –≤ —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É
act push

# –≠–º—É–ª–∏—Ä–æ–≤–∞—Ç—å push –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ç–∫—É
act push -e .github/workflows/test-event.json
```

### Dry-run (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
act -n

# Dry-run –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ workflow
act -n -W .github/workflows/build.yml
```

###Debug mode
```bash
# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
act -v

# –ï—â–µ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π
act -v -v
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

‚ö†Ô∏è **act –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ jobs:**

- ‚ùå Windows jobs (MSVC, MinGW) - —Ç—Ä–µ–±—É—é—Ç Windows runner
- ‚ùå Cygwin - —Ç—Ä–µ–±—É–µ—Ç Windows
- ‚ùå WSL - —Ç—Ä–µ–±—É–µ—Ç Windows
- ‚úÖ Linux jobs - —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ
- ‚ö†Ô∏è GCC 15 - –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
```bash
# ~30 —Å–µ–∫—É–Ω–¥, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ workflow –≤–∞–ª–∏–¥–Ω—ã–π
act -n -W .github/workflows/quick-check.yml
```

### 2. –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–π Linux —Å–±–æ—Ä–∫–∏
```bash
# ~2-5 –º–∏–Ω—É—Ç, –ø–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞
act -j quick-build -W .github/workflows/quick-check.yml
```

### 3. –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
act -j build-linux-matrix --matrix config.name:"YAML"

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ç–µ—Å—Ç–∞–º–∏
act -j build-linux-matrix --matrix config.name:"With Tests"
```

## –£—Å–∫–æ—Ä–µ–Ω–∏–µ

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Docker –æ–±—Ä–∞–∑–æ–≤
–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ–±—Ä–∞–∑—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è:
```bash
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫: ~5-10 –º–∏–Ω—É—Ç (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞)
# –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ: ~2-3 –º–∏–Ω—É—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–Ω—å—à–∏—Ö –æ–±—Ä–∞–∑–æ–≤
–í `.actrc` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã:
- `catthehacker/ubuntu:act-latest` - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, ~1.5GB
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: `node:16-buster-slim` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, ~500MB (–º–æ–∂–µ—Ç –Ω–µ —Ö–≤–∞—Ç–∞—Ç—å –ø–∞–∫–µ—Ç–æ–≤)

### –ü—Ä–æ–ø—É—Å–∫ —à–∞–≥–æ–≤
```bash
# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –æ–±—Ä–∞–∑–µ)
act --skip-install-dependencies
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ workflow –ø–µ—Ä–µ–¥ push
```bash
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .github/workflows/build.yml
# 2. –¢–µ—Å—Ç–∏—Ä—É–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
act -j quick-build -W .github/workflows/quick-check.yml

# 3. –ï—Å–ª–∏ –≤—Å—ë –û–ö - –∫–æ–º–º–∏—Ç–∏–º –∏ –ø—É—à–∏–º
git add .github/workflows/
git commit -m "ci: Update workflow"
git push
```

### –û—Ç–ª–∞–¥–∫–∞ –ø–∞–¥–∞—é—â–µ–≥–æ job
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å verbose –∏ shell –ø—Ä–∏ –æ—à–∏–±–∫–µ
act -j build-linux-matrix --matrix config.name:"YAML" -v

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
act -j build-linux-matrix --matrix config.name:"YAML" --shell
```

## Troubleshooting

### Docker permission denied
```bash
sudo usermod -aG docker $USER
newgrp docker
```

### –ù–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞
```bash
# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ Docker –æ–±—Ä–∞–∑—ã
docker system prune -a
```

### Job –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å workflow
act -n -W .github/workflows/build.yml

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Docker –∑–∞–ø—É—â–µ–Ω
docker ps
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üìñ act documentation: https://github.com/nektos/act
- üê≥ Docker images: https://github.com/catthehacker/docker_images
- üîß GitHub Actions docs: https://docs.github.com/en/actions

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –ú–µ—Ç–æ–¥ | –í—Ä–µ–º—è | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|-------|-------|-----------|
| `act` –ª–æ–∫–∞–ª—å–Ω–æ | 2-5 –º–∏–Ω | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| GitHub Actions | 3-10 –º–∏–Ω | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–ª–∏–º–∏—Ç 2000 –º–∏–Ω/–º–µ—Å—è—Ü) |
| Push –Ω–∞ –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é | 5-15 –º–∏–Ω | –†–∞—Å—Ö–æ–¥ –ª–∏–º–∏—Ç–∞ |

**–í—ã–≤–æ–¥:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `act` –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π, GitHub Actions –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.
